(this["webpackJsonptodo-test"]=this["webpackJsonptodo-test"]||[]).push([[0],{25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var o=n(1),a=n(0),r=n(6),i=n.n(r),c=n(5),s=n(18),d=n(2),l=n(16),u=n(3),b=n(4),f=n(8),j=n(7),m=(n(25),function(t){var e=t.toDo,n=t.done;return Object(o.jsxs)("div",{className:"app-header d-flex",children:[Object(o.jsx)("h1",{children:"Todo List"}),Object(o.jsxs)("h2",{children:[e," more to do, ",n," done"]})]})}),h=(n(26),function(t){Object(f.a)(n,t);var e=Object(j.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var t,e=this.props,n=(e.addItem,e.valueForm),a=e.onLabelChangeNew,r=e.onSubmit;return Object(o.jsxs)("form",{className:"item-add-form d-flex",onSubmit:r,children:[Object(o.jsx)("input",(t={type:"text",className:"form-control",onChange:this.onLabelChange},Object(c.a)(t,"onChange",a),Object(c.a)(t,"placeholder","What needs to be done"),Object(c.a)(t,"value",n),t)),Object(o.jsx)("button",{className:"btn btn-outline-secondary",children:"Add"})]})}}]),n}(a.Component)),p=n(19),g=(n(27),function(t){Object(f.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(u.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).onLabelClick=function(){return t.setState((function(t){return{done:!t.done}}))},t.onMarkImportant=function(){return t.setState((function(t){return{important:!t.important}}))},t}return Object(b.a)(n,[{key:"render",value:function(){var t=this.props,e=t.label,n=t.onDeleted,a=t.onToggleDone,r=t.onToggleImportant,i=t.important,c=t.done,s=t.onEdit,d="todo-list-item";return i&&(d+=" important"),c&&(d+=" done"),Object(o.jsxs)("span",{className:d,children:[Object(o.jsx)("span",{className:"todo-list-item-label",onClick:a,children:e}),Object(o.jsx)("button",{type:"button",className:"btn btn-outline-success btn-sm float-right",onClick:r,children:Object(o.jsx)("i",{className:"fa fa-exclamation"})}),Object(o.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-sm float-right",onClick:n,children:Object(o.jsx)("i",{className:"fa fa-trash-o"})}),Object(o.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm float-right",onClick:s,children:Object(o.jsx)("i",{className:"fa fa-edit small"})})]})}}]),n}(a.Component)),O=n(11),v=(n(28),function(t){var e=t.todos,n=t.onDeleted,a=t.onToggleImportant,r=t.onToggleDone,i=t.onEdit,c=t.handleOnDragEnd,s=e.map((function(t,e){var c=t.id,s=Object(p.a)(t,["id"]);return Object(o.jsx)(O.b,{draggableId:String(c),index:e,children:function(t){return Object(o.jsx)("li",Object(d.a)(Object(d.a)(Object(d.a)({className:"list-group-item",ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(o.jsx)(g,Object(d.a)(Object(d.a)({},s),{},{onDeleted:function(){return n(c)},onToggleImportant:function(){a(c)},onToggleDone:function(){r(c)},onEdit:function(){i(c)}}))}))}},c)}));return Object(o.jsx)(O.a,{onDragEnd:c,children:Object(o.jsx)(O.c,{droppableId:"characters",children:function(t){return Object(o.jsxs)("ul",Object(d.a)(Object(d.a)({className:"list-group todo-list"},t.droppableProps),{},{ref:t.innerRef,children:[s,t.placeholder]}))}})})}),x=function(){function t(){Object(u.a)(this,t)}return Object(b.a)(t,[{key:"getTodos",value:function(){var t=this;return fetch("https://jsonplaceholder.typicode.com/todos").then((function(t){return t.json()})).then((function(t){return t.slice(0,10)})).then((function(e){return t.getOptions(e)}))}},{key:"getOptions",value:function(t){return t.map((function(t){return{label:t.title,important:!1,done:!1,id:t.id}}))}}]),t}(),D=(n(35),function(t){Object(f.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(u.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).todoService=new x,t.maxId=100,t.state={error:null,isLoaded:!1,todoData:[],valueForm:"",isEditing:null},t.deleteItem=function(e){t.setState((function(t){return{todoData:t.todoData.filter((function(t){return t.id!==e}))}}))},t.addItem=function(e){t.setState((function(n){var o=n.todoData,a={label:e,id:t.maxId++,important:!1,done:!1};return{todoData:[].concat(Object(l.a)(o),[a])}}))},t.onToggleImportant=function(e){t.setState((function(n){var o=n.todoData;return{todoData:t.toggleProperty(o,e,"important")}}))},t.onToggleDone=function(e){t.setState((function(n){var o=n.todoData;return{todoData:t.toggleProperty(o,e,"done")}}))},t.onEdit=function(e){var n=t.state.todoData,o=n.findIndex((function(t){return t.id===e})),a=n[o];t.setState({valueForm:a.label,isEditing:e})},t.onLabelChangeNew=function(e){t.setState({valueForm:e.target.value})},t.onSubmit=function(e){if(e.preventDefault(),t.state.valueForm&&!t.state.isEditing)t.addItem(t.state.valueForm),t.setState({valueForm:""});else{if(!t.state.valueForm||!t.state.isEditing)return;var n=t.state.todoData,o=t.state.isEditing,a=n.find((function(t){return t.id===o})),r=Object(d.a)(Object(d.a)({},a),{},{label:t.state.valueForm});t.setState((function(t){var e=t.todoData,n=Object(l.a)(e),o=n.findIndex((function(t){return t.id===r.id}));return n.splice(o,1,r),{todoData:n,isEditing:null,valueForm:""}}))}},t.handleOnDragEnd=function(e){if(e.destination){var n=Array.from(t.state.todoData),o=n.splice(e.source.index,1),a=Object(s.a)(o,1)[0];n.splice(e.destination.index,0,a),t.setState((function(t){t.todoData;return{todoData:n}}))}},t}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.todoService.getTodos().then((function(e){return t.setState({isLoaded:!0,todoData:e})}),(function(e){return t.setState({isLoaded:!0,error:e})}))}},{key:"toggleProperty",value:function(t,e,n){var o=t.findIndex((function(t){return t.id===e})),a=t[o],r=Object(d.a)(Object(d.a)({},a),{},Object(c.a)({},n,!a[n])),i=t.slice();return i.splice(o,1,r),i}},{key:"render",value:function(){var t=this.state,e=t.todoData,n=t.valueForm,a=t.error,r=t.isLoaded;if(a)return Object(o.jsxs)("div",{children:["Error: ",a.message]});if(r){var i=e.filter((function(t){return t.done})).length,c=e.length-i;return Object(o.jsxs)("div",{className:"todo-app",children:[Object(o.jsx)(m,{toDo:i,done:c}),Object(o.jsx)("div",{className:"top-panel d-flex",children:Object(o.jsx)(h,{addItem:this.addItem,onLabelChangeNew:this.onLabelChangeNew,onSubmit:this.onSubmit,valueForm:n})}),Object(o.jsx)(v,{todos:this.state.todoData,onDeleted:this.deleteItem,onToggleImportant:this.onToggleImportant,onToggleDone:this.onToggleDone,onEdit:this.onEdit,handleOnDragEnd:this.handleOnDragEnd})]})}return Object(o.jsx)("div",{children:"Loading..."})}}]),n}(a.Component));i.a.render(Object(o.jsx)(D,{}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.b475e86c.chunk.js.map